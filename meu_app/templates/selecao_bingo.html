<form action="{% url 'jogar_bingo' 0 'slug_aqui' %}" method="get" id="form-selecao">
    <h2>Escolha o Tema:</h2>
    <select name="categoria_slug" required>
        {% for cat in categorias %}
        <option value="{{ cat.slug }}">{{ cat.nome }}</option>
        {% endfor %}
    </select>

    <h2>Escolha a Dificuldade:</h2>
    <select name="dificuldade_id" required>
        {% for dif in dificuldades %}
        <option value="{{ dif.id }}">{{ dif.nome }} ({{ dif.tamanho_cartela }}x{{ dif.tamanho_cartela }})</option>
        {% endfor %}
    </select>

    <button type="submit">Iniciar Bingo</button>
</form>

<script>
    // Este script garante que a URL de submissão seja construída corretamente
    document.getElementById('form-selecao').addEventListener('submit', function(e) {
        e.preventDefault();
        const categoria = this.querySelector('[name="categoria_slug"]').value;
        const dificuldade = this.querySelector('[name="dificuldade_id"]').value;
        
        // Redireciona para a URL correta com os valores selecionados
        window.location.href = `/jogar/${dificuldade}/${categoria}/`; 
    });
</script>